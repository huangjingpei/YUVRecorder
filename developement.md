# YUV录制

## 功能说明
该模块提供了Android录制从网络过来流的一种方式。主要采用Android 系统自身提供的MediaMuxer ，MediaCodec的系统基础组件进行对YUV数据进行的一种封装。


## 开发手记
- 在开发的过程中发现了一种问题，在停止MediaMuxer的时候会停止不掉导致的MP4尾部无法写入，这里做的处理方式是视频I帧没到的情况下，音频帧不要写，然后在视频部分亲故请求I帧。

-发现MediaCodec停止的时候会有的时候虽然想编码线程已经发出了interrupt，但是编码县城无法响应，这里做了5s的等待，会不会时间太长？

-再测试的过程中发现编码质量太差，这个还有什么MediaCodec编码参数可以调整? 目前参考的是[MediaCodec编码H264视频模糊、花屏](https://www.jianshu.com/p/a0873b4a92b6), 

## 特殊说明
本录制只提供了YUV录制，不做YUV数据转换，因此在给到编码器的数据的时候一定需要是已经处理好的编码器能够支持的颜色空间，否则录制失败。
